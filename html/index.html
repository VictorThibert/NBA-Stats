<!DOCTYPE HTML>
<html>
	<head>

		<meta charset="UTF-8">
		<meta HTTP-EQUIV="X-UA-COMPATIBLE" CONTENT="IE=EmulateIE9" >

		<script src="../scripts/libs/d3/d3.v3.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<script src="../scripts/jquery.js"></script>
		
<!-- 		<script src="../scripts/sankey.js"></script>
		<script src = "../scripts/sankey-chart.js"></script>
		
		<script src="../scripts/parallelcoordinates.js"></script>
		<script src="../scripts/d3.parcoords.js"></script>
		<script src="../scripts/sylvester.js"></script>
		<script src="../scripts/divgrid.js"></script>
		
		<script src="../scripts/box.js"></script>
		<script src="../scripts/boxplot.js"></script>

		
		<script src="../scripts/index.js"></script>

		<script src = "../scripts/search.js"></script>
		<script src = "../scripts/table.js"></script> -->
		
		<script src = "../scripts/nouislider.js"></script>
		<script src = "../scripts/hexbin.js"></script>
		<script src = "../scripts/shotchart.js"></script>
		
		
		<script src="../scripts/libs/select2/select2.js"></script>
		<script src="../scripts/libs/select2/select3.js"></script>
    <script src="../scripts/autocomplete.js"></script>
		
		<link rel="stylesheet" href="../scripts/libs/select2/select2.css">
		<link rel="stylesheet" href="../scripts/libs/select2/select3.css">
		<link rel="stylesheet" href="../css/select2-skins.css">
		
		<link rel="stylesheet" href="../css/optgroups.css">
		<link rel="stylesheet" type="text/css" href="../css/stylesheet.css">
		<link rel="stylesheet" type="text/css" href="../css/d3.parcoords.css">
		<link rel="stylesheet" type="text/css" href="../css/search-style.css">
		<link rel="stylesheet" type="text/css" href="../css/nouislider.css">
		
			<style>

			.hexagon {
				opacity:  0.1;
			}
			.hexagon.selected:active {
				color:  #FFF;
			}

			.hexagon.selected {
				opacity: 1;
			}

			.brush .extent {
				fill-opacity: .1;
				shape-rendering: crispEdges;
			}

		</style>

	</head>
	<body>
		
	
		<div id ="topbar">
			<img src="../graphics/logo-small.png" style="width:50px;height:50x;">
			<img id="title" src="../graphics/Title1.png"  style="height:35px;" hspace="5">
			
				<div id="search">
					<select id="select2box" style="width:250px">
			      <optgroup label="Atlantic Division">
			        <option value=38>Boston Celtics</option>
			        <option value=51>Brooklyn Nets</option>
			        <option value=52>New York Knicks</option>
			        <option value=55>Philadelphia 76ers</option>
			        <option value=61>Toronto Raptors</option>
			      </optgroup>
			      <optgroup label="Central Division">
			        <option value=41>Chicago Bulls</option>
			        <option value=39>Cleveland Cavaliers</option>
			        <option value=65>Detroit Pistons</option>
			        <option value=54>Indiana Pacers</option>
			        <option value=49>Milwaukee Bucks</option>
			      </optgroup>
			      <optgroup label="Southeast Division">
			        <option value=37>Atlanta Hawks</option>
			        <option value=66>Charlotte Hornets</option>
			        <option value=48>Miami Heat</option>
			        <option value=53>Orlando Magic</option>
			        <option value=64>Washington Wizards</option>
			      </optgroup>
			      <optgroup label="Northwest Division">
			        <option value=43>Denver Nuggets</option>
			        <option value=50>Minnesota Timberwolves</option>
			        <option value=60>Oklahoma City Thunder</option>
			        <option value=57>Portland Trailblazers</option>
			        <option value=62>Utah Jazz</option>
			      </optgroup>
			      <optgroup label="Pacific Division">
			        <option value=44>Golden State Warriors</option>
			        <option value=46>LA Clippers</option>
			        <option value=47>LA Lakers</option>
			        <option value=56>Phoenix Suns</option>
			        <option value=58>Sacramento Kings</option>
			      </optgroup>
			      <optgroup label="Southwest Division">
			        <option value=42>Dallas Mavericks</option>
			        <option value=45>Houston Rockets</option>
			        <option value=63>Memphis Grizzlies</option>
			        <option value=40>New Orleans Pelicans</option>
			        <option value=59>San Antonio Spurs</option>
			      </optgroup>
			    </select>
			</div>
			
		</div>
		<div class = "main-container">
			
			<div class="container-card" id ="card1">
				<img id ="teamlogo" src="../graphics/logos/38.jpg" style="width:40px;height:40x">
				<div class="card-elem" id = "team">
					Boston Celtics
				</div>
				<div id="yearSearch">
					<select id="yearBox" style="width:130px">
			        <option value=38>2014-2015</option>
			        <option value=51>2013-2014</option>
			        <option value=52>2012-2013</option>
		
			    </select>
			</div>
				
			</div>
			
			<div class= "container-card" id = "sub-container-shot"></div>
			<div class= "container-card" id = "sub-container-shot1"></div>
			<div class= "container-card" id = "sub-container-shot2"></div>
			<div class= "container-card" id = "sub-container-shot3"></div>

		</div>
		
		
		
		<script>
			
			
			function rerender(){
				
// 				sankeyRender(parseInt(location.hash.slice(1,3))); renderPara(parseInt(location.hash.slice(1,3)));
// 				sankeyRender(parseInt(location.hash.slice(1,3))); renderPara(parseInt(location.hash.slice(1,3)));
			}
			
				document.body.onload = function() {
					$("#select2box").select2("val", location.hash.slice(1,3));
					changeTeamName();
					
// 					sankeyRender(parseInt(location.hash.slice(1,3))); renderPara(parseInt(location.hash.slice(1,3)));
				}
				
				window.onhashchange = function() {
					changeTeamName(location.hash.slice(1,3));
// 					sankeyRender(parseInt(location.hash.slice(1,3))); 
// 					renderPara(parseInt(location.hash.slice(1,3)));
				}
			
			//SELECT2 Stuff
		    $(document).ready(function(){
		      // turn the element to select2 select style
					var $example = $('#select2box').select2(); //OVERRIDE DEFAULT CSS
					var $yearSelect = $('#yearBox').select3();
					
					 $yearSelect
				
		     		.on("change", function(e){ChangeUrl('#' + e.val);})
//  		    .on("change", function(e){ChangeTeam('team-name')})
						.on("select2-close", function () {
						
							setTimeout(function() {
									$('.select2-container-active').removeClass('select2-container-active');
									$(':focus').blur();
							}, 1); //BLUR ON DESELECT
					});
				

		      $example
						.on("select2-open", function(e){ $(".select2-container .select2-choice > .select2-chosen").css({"font-weight":"400", "color":"#888"}); })
		     		.on("change", function(e){ChangeUrl('#' + e.val);})
						.on("change", function(e){changeTeamName(e.val); setTeam()})
//  		    .on("change", function(e){ChangeTeam('team-name')})
						.on("select2-close", function () {
							$(".select2-chosen").css({"font-weight":"300", "color":"#f0f0f0"}); 
							setTimeout(function() {
									$('.select2-container-active').removeClass('select2-container-active');
									$(':focus').blur();
							}, 1); //BLUR ON DESELECT
					});
		  });
			

			
		function changeTeamName(team){ //FIX THIS
			 $('#team').html($('#select2box').find(":selected").text());
		}

		function setTeam() {
    	var img = document.getElementById("teamlogo");
    	img.src = "../graphics/logos/" + this.value + ".jpg";
    	return false;
		}
		document.getElementById("select2box").onchange = setTeam;
			
	
			localshotchart();
			
			function ChangeUrl(url) {
			    if (typeof (history.pushState) != "undefined") {
			        var obj = { Title: url, Url: url };
			        history.pushState(obj, null, obj.Url);
			     
			    } else {
			        alert("Browser does not support HTML5.");
			    }
			}

		</script>
	</body>
</html>