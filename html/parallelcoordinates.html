<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="../scripts/d3.parcoords.js"></script>
<script src="../scripts/sylvester.js"></script>
<link rel="stylesheet" type="text/css" href="../css/d3.parcoords.css">

<div id="example" class="parcoords" style="width:360px;height:150px">
<input type="range" min="0" max="0.25" value="0.0" step="0.01" id="smoothness"/></div> 


<script>
//data stored in 2d array. inner arrays represent path lines
var data = [];


d3.json("http://cherrypicker.io/php/playershots.php?playerID=201143$200794", function(error, raw){
  var i = 0;
  for(i = 0; i < raw.length; i += 1){
    data[i] = [raw[i].PLAYER_ID, raw[i].LOC_X, raw[i].LOC_Y, raw[i].SHOT_MADE_FLAG]
  }
  render()
});

function render() {

  var color = d3.scale.ordinal()
    .range(["red", "blue"])

  var pc = d3.parcoords()("#example")
  
  .data(data)
  .render()
 
  .createAxes();

  pc.ctx.foreground.lineWidth = 1.5;
  pc.ctx.foreground.globalCompositeOperation = "darken";

  pc
    .smoothness(0)
    .alpha(0.3)
    .composite("darken")
    .rate(60)
    .margin({ top: 24, left: 20, bottom: 12, right: 0 })
    .autoscale()
    .color(function(d) {return color(d[3]); })
    .render()
    .brushMode("1D-axes");

    d3.select("#smoothness").on("change", function() {
    d3.select("#smooth").text(this.value);
    pc.smoothness(this.value).render();
  });

}


</script>
<script>